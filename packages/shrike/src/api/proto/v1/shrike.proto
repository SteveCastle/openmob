syntax = "proto3";

package shrike.v1;

option go_package = "v1";

import "google/api/annotations.proto";
import "protoc-gen-swagger/options/annotations.proto";

option (grpc.gateway.protoc_gen_swagger.options.openapiv2_swagger) = {
	info: {
		title: "Cause service";
		version: "1.0";
		contact: {
			name: "openmob";
			url: "https://github.com/SteveCastle/openmob";
			email: "stephen@openmob.org";
        };
    };
    schemes: HTTP;
    consumes: "application/json";
    produces: "application/json";
    responses: {
		key: "404";
		value: {
			description: "Returned when the resource does not exist.";
			schema: {
				json_schema: {
					type: STRING;
				}
			}
		}
	}
};

service ShrikeService {
	rpc CreateCause(CreateCauseRequest) returns (CreateCauseResponse) {
		option (google.api.http) ={
			post: "/v1/cause"
			body: "*"
		};
	}

	rpc GetCause(GetCauseRequest) returns (GetCauseResponse) {
		option (google.api.http) ={
			get: "/v1/cause/{id}"
		};
	}

	rpc ListCause(ListCauseRequest) returns (ListCauseResponse) {
	option (google.api.http) ={
		get: "/v1/cause"
	};
}
}

message Cause {
	int64 id = 1;
	string title = 2;
}

message CreateCauseRequest {
	string api = 1;
	Cause item = 2;
}

message CreateCauseResponse {
	string api = 1;
	int64 id = 2;
	
}
message GetCauseRequest {
	string api = 1;
	int64 id = 2;
}

message GetCauseResponse {
	string api = 1;
	Cause item = 2;
}

message ListCauseRequest {
	string api = 1;
	int32 limit = 2;
}

message ListCauseResponse {
	string api = 1;
	repeated Cause items = 2;
}